#!/bin/bash

# https://github.com/ingalexvarela/HackRF-One-Projects

# Solicitar la contraseña de sudo
read -s -p "Por favor, ingresa tu contraseña de sudo: " sudo_password

# Instalar toilet de manera silenciosa
echo $sudo_password | sudo -S apt-get install -qq -y toilet > /dev/null 2>&1

# Mensaje inicial personalizado
echo ""
echo "------------------------------------------------"
echo -e "\e[1;35mBienvenido al Desinstalador del \e[1;36mHackRF One\e[0m"
echo -e "\e[1;36mby Alex Varela\e[0m"
echo "------------------------------------------------"
# Esperar 5 segundos
sleep 3

# Figura ASCII
# A partir de aquí es la figura
cat << "EOF"
                           _           _                         
                          | |         | |                        
                          | |__   __ _| |_ _ __ ___   __ _ _ __  
                          | '_ \ / _` | __| '_ ` _ \ / _` | '_ \ 
                          | |_) | (_| | |_| | | | | | (_| | | | |
                          |_.__/ \__,_|\__|_| |_| |_|\__,_|_| |_|

                                    ,.ood888888888888boo.,
                               .od888P^""            ""^Y888bo.
                           .od8P''   ..oood88888888booo.    ``Y8bo.
                        .odP'"  .ood8888888888888888888888boo.  "`Ybo.
                      .d8'   od8'd888888888f`8888't888888888b`8bo   `Yb.
                     d8'  od8^   8888888888[  `'  ]8888888888   ^8bo  `8b
                   .8P  d88'     8888888888P      Y8888888888     `88b  Y8.
                  d8' .d8'       `Y88888888'      `88888888P'       `8b. `8b
                 .8P .88P            """"            """"            Y88. Y8.
                 88  888                                              888  88
                 88  888                                              888  88
                 88  888.        ..                        ..        .888  88
                 `8b `88b,     d8888b.od8bo.      .od8bo.d8888b     ,d88' d8'
                  Y8. `Y88.    8888888888888b    d8888888888888    .88P' .8P
                   `8b  Y88b.  `88888888888888  88888888888888'  .d88P  d8'
                     Y8.  ^Y88bod8888888888888..8888888888888bod88P^  .8P
                      `Y8.   ^Y888888888888888LS888888888888888P^   .8P'
                        `^Yb.,  `^^Y8888888888888888888888P^^'  ,.dP^'
                           `^Y8b..   ``^^^Y88888888P^^^'    ..d8P^'
                               `^Y888bo.,            ,.od888P^'
                                    "`^^Y888888888888P^^'"
EOF
# Hasta aquí es la figura
echo -e "\e[1;36mEspere mientras se configura el entorno de desinstalación\e[0m"
# Esperar 5 segundos
sleep 5

# Desinstalar HackRF y GNU Radio
echo $sudo_password | sudo -S apt-get remove --purge -y hackrf gnuradio

# Eliminar directorios y archivos relacionados
echo "Eliminando directorios y archivos relacionados..."
sudo rm -rf ~/hackrf
sudo rm -rf ~/gr-osmosdr

# Limpiar paquetes no utilizados
echo "Limpiando paquetes no utilizados..."
sudo apt-get autoremove -y

# Limpiar caché de paquetes
echo "Limpiando caché de paquetes..."
sudo apt-get clean


# Mensaje final personalizado
echo ""
echo "------------------------------------------------"
echo -e "\e[1;33mDesinstalación completada del \e[1;36mHackRF One\e[0m"

# Figura ASCII
cat << "EOF"
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::-'    `-::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::-'          `::::::::::::::::
:::::::::::::::::::::::::::::::::::::::-  '   /(_M_)\  `:::::::::::::::
:::::::::::::::::::::::::::::::::::-'        |       |  :::::::::::::::
::::::::::::::::::::::::::::::::-         .   \/~V~\/  ,:::::::::::::::
::::::::::::::::::::::::::::-'             .          ,::::::::::::::::
:::::::::::::::::::::::::-'                 `-.    .-::::::::::::::::::
:::::::::::::::::::::-'                  _,,-::::::::::::::::::::::::::
::::::::::::::::::-'                _,--:::::::::::::::::::::::::::::::
::::::::::::::-'               _.--::::::::::::::::::::::#####:::::::::
:::::::::::-'             _.--:::::::::::::::::::::::::::#####:::::####
::::::::'    ##     ###.-::::::###:::::::::::::::::::::::#####:::::####
::::-'       ###_.::######:::::###::::::::::::::#####:##########:::####
:'         .:###::########:::::###::::::::::::::#####:##########:::####
     ...--:::###::########:::::###:::::######:::#####:##########:::####
 _.--:::##:::###:#########:::::###:::::######:::#####:#################
'#########:::###:#########::#########::######:::#####:#################
:#########:::#############::#########::######:::#######################
##########:::########################::################################
##########:::##########################################################
##########:::##########################################################
#######################################################################
#######################################################################
#######################################################################
#######################################################################
EOF

echo -e "\e[1;36m¡UN GUSTO AYUDARLE!\e[0m"
echo "------------------------------------------------"